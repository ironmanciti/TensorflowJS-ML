<html>
  <head>
    <!-- Load the latest version of TensorFlow.js -->
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@2.0.0/dist/tf.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/mobilenet@1.0.0"> </script>
  </head>
  <body>
    <h1>MobileNet 전이학습</h1>
    <!-- Add an image that we will use to test -->
    <img id="img0" crossorigin='anonymous' src="https://i.imgur.com/JlUvsxa.jpg" width=140 height=140 />
    <img id="img1" crossorigin='anonymous' src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSFcepECVUcLvvbjaPHMIGWgAOJtamJuca6mw&usqp=CAUg" width=140 height=140 />
    <img id="img2" src='./images/coffee.jpg'width=140 height=140 />
    <img id='img3' src='./images/banana.jpg' width=140 height=140 />
    <img id='img4' src='./images/bird.png' width=140 height=140 />
    <div id="output" style="font-size:14px"></div>
    <script>
      const images = ["img0","img1", "img2", "img3", "img4"]
      for (let i=0; i < images.length; i++){
        const img = document.getElementById(images[i]);
        const outp = document.getElementById("output");
        mobilenet.load().then(model => {
          model.classify(img).then(predictions => {
            console.log(predictions);
            for (let i=0; i<predictions.length; i++){
              if (predictions[i].probability > 0.2){
                  outp.innerHTML += "<br/>" + predictions[i].className + " : " 
                  + predictions[i].probability.toFixed(4);
              }
            }
          })
        })
      }
      
    </script>
    <br>

  </body>
</html>
